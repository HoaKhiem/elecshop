{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\ElecShop\\\\UI\\\\src\\\\components\\\\pages\\\\Login\\\\Forgot.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport Button from '../../UI/Button/Button';\nimport Spinner from '../../UI/Loading/Spinner/Spinner';\nimport './Forgot.css';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Forgot = () => {\n  _s();\n\n  //ref for store input from input fields\n  const emailref = useRef('');\n  const otpRef1 = useRef('');\n  const otpRef2 = useRef('');\n  const otpRef3 = useRef('');\n  const otpRef4 = useRef('');\n  const passwordRef = useRef('');\n  const passwordConfirmRef = useRef(''); //for loading state:\n\n  const [showingSpinner, setshowingSpinner] = useState(false); //for showing layout:\n\n  const [showMailSection, setShowMailSection] = useState(true);\n  const [showOTPSection, setShowOTPSection] = useState(false);\n  const [showSavingSection, setShowSavingSection] = useState(false); //state for store password\n\n  const [password, setPassword] = useState(''); //state for manage password validity\n\n  const [validPassword, setValidPassword] = useState(null);\n  const [validPasswordLength, setValidPasswordLength] = useState(null);\n  const [validityPasswordConfirm, setValidityPasswordConfirm] = useState(null);\n  const [validAll, setValidAll] = useState(false); //state for store email and Otp\n\n  const [email, setEmail] = useState('');\n  const [otp, setOtp] = useState(''); //state for change password status\n\n  const [changedPassword, setChangedPassword] = useState(false); //validity states\n\n  const [validEmail, setValidEmail] = useState(null);\n  const [validOtp, setValidOtp] = useState(null);\n\n  const sendOtpHandler = () => {\n    if (!validEmail) return;\n    setshowingSpinner(true);\n    setTimeout(() => {\n      setshowingSpinner(false);\n      setShowMailSection(false);\n      setShowOTPSection(true);\n    }, 2000);\n  };\n\n  const verifyOtpHandler = () => {\n    setshowingSpinner(true);\n    setTimeout(() => {\n      setShowOTPSection(false);\n      setShowSavingSection(true);\n      setshowingSpinner(false);\n    }, 2000);\n  };\n\n  const savePasswordHandler = () => {\n    setshowingSpinner(true);\n    setTimeout(() => {\n      setshowingSpinner(false);\n      setChangedPassword(true);\n    }, 2000);\n  }; //change handler functions\n\n\n  const emailChangeHanlder = () => {\n    const email = emailref.current.value;\n    const emailValidity = email.toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n    setValidEmail(emailValidity ? true : false);\n\n    if (validEmail) {\n      setEmail(email);\n    }\n  }; //otp change functions\n\n\n  let otpInput = '';\n\n  const otpChange = index => {\n    switch (index) {\n      case 1:\n        otpInput += otpRef1.current.value;\n        if (otpInput.length == 1) otpRef2.current.focus();\n        break;\n\n      case 2:\n        otpInput += otpRef2.current.value;\n        if (otpInput.length == 2) otpRef3.current.focus();\n        break;\n\n      case 3:\n        otpInput += otpRef3.current.value;\n        if (otpInput.length == 3) otpRef4.current.focus();\n        break;\n\n      case 4:\n        otpInput += otpRef4.current.value;\n        if (otpInput.length == 4) setValidOtp(true);\n        otpRef4.current.blur();\n        setOtp(otpInput);\n        break;\n    }\n  }; //password change and validity\n\n\n  const passwordChangeHandler = () => {\n    const specialCharactersFormat = /[ `^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\n    const password = passwordRef.current.value;\n    setValidPassword(!specialCharactersFormat.test(password));\n    if (!validPassword) return;\n    setValidPasswordLength(password.length >= 6);\n    setPassword(password);\n  };\n\n  const passwordConfirmChangeHanler = () => {\n    const confirmPassword = passwordConfirmRef.current.value;\n    setValidityPasswordConfirm(confirmPassword === password);\n  };\n\n  useEffect(() => {\n    setValidAll(validPassword === true && validPasswordLength === true && validityPasswordConfirm === true);\n  }, [validPassword, validPasswordLength, validityPasswordConfirm]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forgot-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forgot\",\n      children: [showMailSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forgot-mail\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Forgot your password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Don't worry, let us help you\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: emailref,\n            onChange: emailChangeHanlder,\n            type: \"text\",\n            placeholder: \"Type your email here\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-action\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: sendOtpHandler,\n            className: `forgot-action-btn ${!validEmail && 'disabled'}`,\n            children: showingSpinner ? /*#__PURE__*/_jsxDEV(Spinner, {\n              width: \"20px\",\n              height: \"20px\",\n              color: \"white\",\n              size: \"3px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 138\n            }, this) : 'Send OTP code'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), showOTPSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forgot-otp\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-otp-header\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"We have sent you and OTP code, please check and type here:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-input-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: otpRef1,\n            onChange: () => otpChange(1),\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: otpRef2,\n            onChange: () => otpChange(2),\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: otpRef3,\n            onChange: () => otpChange(3),\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: otpRef4,\n            onChange: () => otpChange(4),\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-action\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: verifyOtpHandler,\n            className: `forgot-action-btn ${!validOtp && 'disabled'}`,\n            children: showingSpinner ? /*#__PURE__*/_jsxDEV(Spinner, {\n              width: \"20px\",\n              height: \"20px\",\n              color: \"white\",\n              size: \"3px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 137\n            }, this) : 'Verify'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), showSavingSection && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forgot-change\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-change-header\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Verify success, enter your new password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: passwordChangeHandler,\n            ref: passwordRef,\n            type: \"text\",\n            placeholder: \"Enter your new password\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), validPassword === false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"forgot-alert\",\n            children: \"Password can't contain special characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 53\n          }, this), validPassword && validPasswordLength === false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"forgot-alert\",\n            children: \"Password's length should greater than 5 characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 76\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: passwordConfirmChangeHanler,\n            ref: passwordConfirmRef,\n            type: \"text\",\n            placeholder: \"Confirm your new password\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), validityPasswordConfirm === false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"forgot-alert\",\n            children: \"Password does not match\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-action\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: savePasswordHandler,\n            className: `forgot-action-btn ${validAll === false && 'disabled'}`,\n            children: showingSpinner ? /*#__PURE__*/_jsxDEV(Spinner, {\n              width: \"20px\",\n              height: \"20px\",\n              color: \"white\",\n              size: \"3px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 149\n            }, this) : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forgot-result\",\n          children: changedPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Change password success \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"forgot-result-link\",\n              children: \"login now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 56\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Forgot, \"8aY8xa30mmARjPSQky+yIMAdbxA=\");\n\n_c = Forgot;\nexport default Forgot;\n\nvar _c;\n\n$RefreshReg$(_c, \"Forgot\");","map":{"version":3,"sources":["D:/react/ElecShop/UI/src/components/pages/Login/Forgot.jsx"],"names":["React","useState","useRef","useEffect","Button","Spinner","Link","Forgot","emailref","otpRef1","otpRef2","otpRef3","otpRef4","passwordRef","passwordConfirmRef","showingSpinner","setshowingSpinner","showMailSection","setShowMailSection","showOTPSection","setShowOTPSection","showSavingSection","setShowSavingSection","password","setPassword","validPassword","setValidPassword","validPasswordLength","setValidPasswordLength","validityPasswordConfirm","setValidityPasswordConfirm","validAll","setValidAll","email","setEmail","otp","setOtp","changedPassword","setChangedPassword","validEmail","setValidEmail","validOtp","setValidOtp","sendOtpHandler","setTimeout","verifyOtpHandler","savePasswordHandler","emailChangeHanlder","current","value","emailValidity","toLowerCase","match","otpInput","otpChange","index","length","focus","blur","passwordChangeHandler","specialCharactersFormat","test","passwordConfirmChangeHanler","confirmPassword"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport Button from '../../UI/Button/Button'\r\nimport Spinner from '../../UI/Loading/Spinner/Spinner';\r\nimport './Forgot.css'\r\nimport {Link}  from 'react-router-dom'\r\nconst Forgot = () => {\r\n    //ref for store input from input fields\r\n    const emailref = useRef('');\r\n    const otpRef1 = useRef('');\r\n    const otpRef2 = useRef('');\r\n    const otpRef3 = useRef('');\r\n    const otpRef4 = useRef('');\r\n    const passwordRef = useRef('');\r\n    const passwordConfirmRef = useRef('');\r\n    //for loading state:\r\n    const [showingSpinner, setshowingSpinner] = useState(false);\r\n    //for showing layout:\r\n    const [showMailSection, setShowMailSection] = useState(true);\r\n    const [showOTPSection, setShowOTPSection] = useState(false);\r\n    const [showSavingSection, setShowSavingSection] = useState(false);\r\n    //state for store password\r\n    const [password, setPassword] = useState('');\r\n    //state for manage password validity\r\n    const [validPassword, setValidPassword] = useState(null);\r\n    const [validPasswordLength, setValidPasswordLength] = useState(null);\r\n    const [validityPasswordConfirm, setValidityPasswordConfirm] = useState(null);\r\n    const [validAll, setValidAll] = useState(false);\r\n    //state for store email and Otp\r\n    const [email, setEmail] = useState('');\r\n    const [otp, setOtp] = useState('');\r\n    //state for change password status\r\n    const [changedPassword, setChangedPassword] = useState(false);\r\n\r\n    //validity states\r\n    const [validEmail, setValidEmail] = useState(null);\r\n    const [validOtp, setValidOtp] = useState(null);\r\n    const sendOtpHandler = () => {\r\n        if(!validEmail) return;\r\n        setshowingSpinner(true);\r\n        setTimeout(() => {\r\n            setshowingSpinner(false);\r\n            setShowMailSection(false);\r\n            setShowOTPSection(true);\r\n        }, 2000)\r\n    }\r\n    const verifyOtpHandler = () => {\r\n        setshowingSpinner(true);\r\n        setTimeout(() => {\r\n            setShowOTPSection(false);\r\n            setShowSavingSection(true);\r\n            setshowingSpinner(false);\r\n        }, 2000)\r\n    }\r\n    const savePasswordHandler = () => {\r\n        setshowingSpinner(true);\r\n        setTimeout(() => {\r\n            setshowingSpinner(false);\r\n            setChangedPassword(true);\r\n        }, 2000)\r\n    }\r\n\r\n    //change handler functions\r\n    const emailChangeHanlder = () => {\r\n       const email = emailref.current.value;\r\n       const emailValidity = email.toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n       setValidEmail(emailValidity ? true : false);\r\n       if(validEmail){\r\n           setEmail(email);\r\n       }\r\n    }\r\n    //otp change functions\r\n    let otpInput = '';\r\n    const otpChange = (index) => {\r\n        switch(index){\r\n            case 1:\r\n                otpInput += otpRef1.current.value;\r\n                if(otpInput.length == 1) otpRef2.current.focus();\r\n                break;\r\n            case 2:\r\n                otpInput += otpRef2.current.value;\r\n                if(otpInput.length == 2) otpRef3.current.focus();\r\n                break;\r\n            case 3:\r\n                otpInput += otpRef3.current.value;\r\n                if(otpInput.length == 3) otpRef4.current.focus();\r\n                break;\r\n            case 4:\r\n                otpInput += otpRef4.current.value;\r\n                if(otpInput.length == 4) setValidOtp(true);\r\n                otpRef4.current.blur();\r\n                setOtp(otpInput);\r\n                break;\r\n        }\r\n    }\r\n    //password change and validity\r\n    const passwordChangeHandler = () => {\r\n        const specialCharactersFormat = /[ `^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\r\n        const password = passwordRef.current.value;\r\n        setValidPassword(!specialCharactersFormat.test(password));\r\n        if(!validPassword) return;\r\n        setValidPasswordLength(password.length >= 6);\r\n        setPassword(password);\r\n    }\r\n    const passwordConfirmChangeHanler = () => {\r\n        const confirmPassword = passwordConfirmRef.current.value;\r\n        setValidityPasswordConfirm(confirmPassword === password);\r\n    }\r\n    useEffect(() => {\r\n        setValidAll(validPassword === true && validPasswordLength === true && validityPasswordConfirm === true);\r\n    }, [validPassword, validPasswordLength, validityPasswordConfirm])\r\n  return (\r\n    <div className='forgot-container'>\r\n        <div className=\"forgot\">\r\n            {showMailSection &&\r\n                <div className=\"forgot-mail\">\r\n                    <div className=\"forgot-header\">\r\n                        <h5>Forgot your password?</h5>\r\n                        <p>Don't worry, let us help you</p>\r\n                    </div>\r\n                    <div className=\"forgot-input\">\r\n                        <input ref={emailref} onChange={emailChangeHanlder} type=\"text\" placeholder='Type your email here' autoComplete='off' />\r\n                    </div>\r\n                    <div className=\"forgot-action\">\r\n                        <Button onClick ={sendOtpHandler} className={`forgot-action-btn ${!validEmail && 'disabled'}`}>{showingSpinner ? <Spinner width='20px' height='20px' color='white' size='3px'/>:'Send OTP code'}</Button>\r\n                    </div>\r\n                </div>\r\n            }\r\n            {showOTPSection &&\r\n                <div className=\"forgot-otp\">\r\n                    <div className=\"forgot-otp-header\">\r\n                        <p>We have sent you and OTP code, please check and type here:</p>\r\n                    </div>\r\n                    <div className=\"forgot-input-in\">\r\n                        <input ref={otpRef1} onChange={() => otpChange(1)} type=\"number\"/>\r\n                        <input ref={otpRef2} onChange={() => otpChange(2)} type=\"number\"/>\r\n                        <input ref={otpRef3} onChange={() => otpChange(3)} type=\"number\"/>\r\n                        <input ref={otpRef4} onChange={() => otpChange(4)} type=\"number\"/>\r\n                    </div>\r\n                    <div className=\"forgot-action\">\r\n                        <Button onClick={verifyOtpHandler} className={`forgot-action-btn ${!validOtp && 'disabled'}`}>{showingSpinner ? <Spinner width='20px' height='20px' color='white' size='3px'/>:'Verify'}</Button>\r\n                    </div>\r\n                    {/* <div className=\"forgot-alert\">\r\n                        <p>OTP code is invalid, try again</p>\r\n                    </div> */}\r\n                </div>\r\n            }\r\n            {showSavingSection &&\r\n                <div className=\"forgot-change\">\r\n                    <div className=\"forgot-change-header\">\r\n                        <p>Verify success, enter your new password:</p>\r\n                    </div>\r\n                    <div className=\"forgot-input\">\r\n                        <input onChange={passwordChangeHandler} ref={passwordRef} type=\"text\" placeholder='Enter your new password' autoComplete='off' />\r\n                        {validPassword === false && <span className='forgot-alert'>Password can't contain special characters</span>}\r\n                        {validPassword && validPasswordLength === false && <span className='forgot-alert'>Password's length should greater than 5 characters</span>}\r\n                    </div>\r\n                    <div className=\"forgot-input\">\r\n                        <input onChange={passwordConfirmChangeHanler} ref={passwordConfirmRef} type=\"text\" placeholder='Confirm your new password' autoComplete='off' />\r\n                        {validityPasswordConfirm === false && <span className='forgot-alert'>Password does not match</span>}\r\n                    </div>\r\n                    <div className=\"forgot-action\">\r\n                        <Button onClick={savePasswordHandler} className={`forgot-action-btn ${validAll === false && 'disabled'}`}>{showingSpinner ? <Spinner width='20px' height='20px' color='white' size='3px'/>:'Save'}</Button>\r\n                    </div>\r\n                    <div className=\"forgot-result\">\r\n                        {changedPassword &&\r\n                            <p>Change password success <Link to='/login' className='forgot-result-link'>login now</Link></p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Forgot"]},"metadata":{},"sourceType":"module"}