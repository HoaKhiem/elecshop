{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\ElecShop\\\\UI\\\\src\\\\components\\\\pages\\\\Products\\\\Select\\\\Select.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './Select.css';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport SelectSlide from './SelectSlide';\nimport Button from '../../../UI/Button/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Select = () => {\n  _s();\n\n  //get select product's id:\n  const id = useParams().id; //state for store current product\n\n  const [product, setProduct] = useState({}); //state for store product images and color:\n\n  const [productImages, setProductImages] = useState([]); //get all rom of selecting product:\n\n  const [rom, setRom] = useState([]); //curent product:\n\n  const [currentProduct, setCurrentProduct] = useState({}); //state for store total price, price and capacity:\n\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [capacity, setCapacity] = useState(0); //the following state contain addtion price for each color\n\n  const [additionPrice, setAdditionPricve] = useState(0);\n  const [activeSelectRom, setActiveSelectRom] = useState(null);\n  const [activeSelectColor, setActiveSelectColor] = useState(null); //manage alert for color and capacity\n\n  const [colorAlert, setColorAlert] = useState(false);\n  const [capacityAlert, setCapacityAlert] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      const data = await axios.get(`/products/select/${id}`);\n      setProduct(data.data[0]);\n    };\n\n    const fetchRom = async () => {\n      const data = await axios.get('/products/fakerom');\n      setRom(data.data);\n    };\n\n    const fetchImages = async () => {\n      const data = await axios.get('/products/dummy');\n      setProductImages(data.data);\n    };\n\n    fetchData();\n    fetchRom();\n    fetchImages();\n  }, []);\n  useEffect(() => {\n    setCurrentProduct(productImages[0]);\n  }, [productImages]);\n  useEffect(() => {\n    setTotalPrice(price + additionPrice);\n  }, [additionPrice, price]);\n\n  const priceChangeHandler = (price, id, rom) => {\n    setPrice(price);\n    setActiveSelectRom(id);\n    setCapacity(rom);\n  };\n\n  const activeColorChangeHandler = (id, additionPrice, product) => {\n    setActiveSelectColor(id);\n    setAdditionPricve(additionPrice);\n    setCurrentProduct(product);\n  };\n\n  const addToCartHandler = () => {\n    if (activeSelectColor === null) {\n      setColorAlert(true);\n      return;\n    } else {\n      setColorAlert(false);\n    }\n\n    if (capacity === 0) {\n      setCapacityAlert(true);\n      return;\n    } else {\n      setCapacityAlert(false);\n    }\n\n    alert('okkk');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-select\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-select-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-select-header-name\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-select-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-select-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-select-left-slider\",\n          children: /*#__PURE__*/_jsxDEV(SelectSlide, {\n            img: currentProduct === null || currentProduct === void 0 ? void 0 : currentProduct.img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-select-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-select-right-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Choose your color:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-container\",\n            children: productImages.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => activeColorChangeHandler(product.id, product.additionPrice, product),\n              className: `product-select-right-row-item-container ${activeSelectColor === product.id ? 'select-active' : 'select-inactive'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-select-right-row-item-name\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  boxShadow: `inset 0px 1px 1px rgba(0,0,0,0.25)`,\n                  backgroundColor: product.color\n                },\n                className: \"product-select-right-row-color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 29\n              }, this)]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 55\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-alert\",\n            children: colorAlert && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Please select a color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-select-right-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Choose your capacity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-container\",\n            children: rom.map(rom => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => priceChangeHandler(rom.price, rom.id, rom.ram),\n              className: `product-select-right-row-item-container-rom ${activeSelectRom === rom.id ? 'select-active' : 'select-inactive'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-select-right-row-item-capacity\",\n                children: rom.ram\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-select-right-row-item-price\",\n                children: [\"$\", rom.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 29\n              }, this)]\n            }, rom.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-alert\",\n            children: capacityAlert && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Please select a capacity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-select-right-row-total\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-select-right-row-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"product-select-right-row-header-price\",\n              children: [\"$\", totalPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-select-right-action\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: addToCartHandler,\n            className: \"product-select-right-action-btn\",\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Select, \"TbMNQlgJZ2ddGycfN6jeqopa46M=\", false, function () {\n  return [useParams];\n});\n\n_c = Select;\nexport default Select;\n\nvar _c;\n\n$RefreshReg$(_c, \"Select\");","map":{"version":3,"sources":["D:/react/ElecShop/UI/src/components/pages/Products/Select/Select.jsx"],"names":["React","useState","useEffect","useParams","axios","SelectSlide","Button","Select","id","product","setProduct","productImages","setProductImages","rom","setRom","currentProduct","setCurrentProduct","totalPrice","setTotalPrice","price","setPrice","capacity","setCapacity","additionPrice","setAdditionPricve","activeSelectRom","setActiveSelectRom","activeSelectColor","setActiveSelectColor","colorAlert","setColorAlert","capacityAlert","setCapacityAlert","fetchData","data","get","fetchRom","fetchImages","priceChangeHandler","activeColorChangeHandler","addToCartHandler","alert","name","img","map","boxShadow","backgroundColor","color","ram"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './Select.css'\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport SelectSlide from './SelectSlide'\r\nimport Button from '../../../UI/Button/Button'\r\nconst Select = () => {\r\n    //get select product's id:\r\n    const id = useParams().id;\r\n    //state for store current product\r\n    const [product,setProduct] = useState({});\r\n    //state for store product images and color:\r\n    const [productImages, setProductImages] = useState([]);\r\n    //get all rom of selecting product:\r\n    const [rom, setRom] = useState([]);\r\n    //curent product:\r\n    const [currentProduct, setCurrentProduct] = useState({});\r\n    //state for store total price, price and capacity:\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [price, setPrice] = useState(0);\r\n    const [capacity, setCapacity] = useState(0);\r\n    //the following state contain addtion price for each color\r\n    const [additionPrice, setAdditionPricve] = useState(0);\r\n    const [activeSelectRom, setActiveSelectRom] = useState(null);\r\n    const [activeSelectColor, setActiveSelectColor] = useState(null);\r\n    //manage alert for color and capacity\r\n    const [colorAlert, setColorAlert] = useState(false);\r\n    const [capacityAlert, setCapacityAlert] = useState(false);\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const data = await axios.get(`/products/select/${id}`);\r\n            setProduct(data.data[0]);\r\n        }\r\n        const fetchRom = async () => {\r\n            const data = await axios.get('/products/fakerom');\r\n            setRom(data.data);\r\n        }\r\n        const fetchImages = async () => {\r\n            const data = await axios.get('/products/dummy');\r\n            setProductImages(data.data);\r\n        }\r\n        fetchData();\r\n        fetchRom();\r\n        fetchImages();\r\n    }, []);\r\n    useEffect(() => {\r\n        setCurrentProduct(productImages[0]);\r\n    }, [productImages])\r\n    useEffect(() => {\r\n        setTotalPrice(price + additionPrice);\r\n    }, [additionPrice, price])\r\n    const priceChangeHandler = (price, id, rom) => {\r\n        setPrice(price);\r\n        setActiveSelectRom(id);\r\n        setCapacity(rom);\r\n    }\r\n    const activeColorChangeHandler = (id, additionPrice, product) => {\r\n        setActiveSelectColor(id);\r\n        setAdditionPricve(additionPrice);\r\n        setCurrentProduct(product);\r\n    }\r\n    const addToCartHandler = () => {\r\n        if(activeSelectColor === null){\r\n            setColorAlert(true);\r\n            return;\r\n        }else{\r\n            setColorAlert(false);\r\n        }\r\n        if(capacity === 0){\r\n            setCapacityAlert(true);\r\n            return;\r\n        }else{\r\n            setCapacityAlert(false);\r\n        }\r\n        alert('okkk')\r\n    }\r\n  return (\r\n    <div className='product-select'>\r\n        <div className=\"product-select-header\">\r\n            <div className=\"product-select-header-name\">\r\n                <h4>{product.name}</h4>\r\n            </div>\r\n        </div>\r\n        <div className=\"product-select-content\">\r\n            <div className=\"product-select-left\">\r\n                <div className=\"product-select-left-slider\">\r\n                    <SelectSlide img={currentProduct?.img}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"product-select-right\">\r\n                <div className=\"product-select-right-row\">\r\n                    <div className=\"product-select-right-row-header\">\r\n                        <h4>Choose your color:</h4>\r\n                    </div>\r\n                    <div className=\"product-select-right-row-container\">\r\n                        {productImages.map(product => <div key={product.id} onClick={() => activeColorChangeHandler(product.id, product.additionPrice, product)} className={`product-select-right-row-item-container ${activeSelectColor === product.id ? 'select-active': 'select-inactive'}`}>\r\n                            <div className=\"product-select-right-row-item-name\">{product.name}</div>\r\n                            <div style={{boxShadow: `inset 0px 1px 1px rgba(0,0,0,0.25)`, backgroundColor: product.color}} className=\"product-select-right-row-color\"></div>\r\n                        </div>)\r\n                        }\r\n                    </div>\r\n                    <div className=\"product-select-right-row-alert\">\r\n                        {\r\n                            colorAlert && <p>Please select a color</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"product-select-right-row\">\r\n                    <div className=\"product-select-right-row-header\">\r\n                        <h4>Choose your capacity:</h4>\r\n                    </div>\r\n                    <div className=\"product-select-right-row-container\">\r\n                        {rom.map(rom => <div key={rom.id} onClick={() =>priceChangeHandler(rom.price, rom.id, rom.ram)} className={`product-select-right-row-item-container-rom ${activeSelectRom === rom.id ? 'select-active': 'select-inactive'}`}>\r\n                            <div className=\"product-select-right-row-item-capacity\">{rom.ram}</div>\r\n                            <div className=\"product-select-right-row-item-price\">${rom.price}</div>\r\n                        </div>)\r\n                        }\r\n                    </div>\r\n                    <div className=\"product-select-right-row-alert\">\r\n                        {\r\n                            capacityAlert && <p>Please select a capacity</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"product-select-right-row-total\">\r\n                    <div className=\"product-select-right-row-header\">\r\n                        <h4>Total:</h4>\r\n                        <h5 className=\"product-select-right-row-header-price\">${totalPrice}</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"product-select-right-action\">\r\n                   <Button onClick={addToCartHandler} className='product-select-right-action-btn'>Add to Cart</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Select"]},"metadata":{},"sourceType":"module"}