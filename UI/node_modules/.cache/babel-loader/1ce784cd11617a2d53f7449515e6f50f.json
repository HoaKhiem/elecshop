{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\ElecShop\\\\UI\\\\src\\\\components\\\\pages\\\\SignUp\\\\SignUp.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './SignUp.css';\nimport Button from '../../UI/Button/Button';\nimport Spinner from '../../UI/Loading/Spinner/Spinner';\nimport SingUpOTP from './SingUpOTP';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  //State for agree accept:\n  const [agreeTerms, setAgreeTerms] = useState(false); //Sending state:\n\n  const [sendingForm, setSendingForm] = useState(false); //State for whole valid form:\n\n  const [isValidForm, setIsValidForm] = useState(false); //Ref for store user input\n\n  const emailRef = useRef('');\n  const usernameRef = useRef('');\n  const passwordRef = useRef('');\n  const rePasswordRef = useRef(''); //check valid for each input field\n\n  const [isValidEmail, setIsValidEmail] = useState(null);\n  const [isValidUserName, setIsValidUserName] = useState(null);\n  const [isValidPassword, setIsValidPassword] = useState(null);\n  const [email, setEmail] = useState('');\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [isValidPasswordLength, setIsValidPasswordLength] = useState(null);\n  const [isValidUsernameLength, setIsValidUsernameLength] = useState(null);\n  const [isValidPassordConfirm, setIsValidPasswordConfirm] = useState(null);\n  const specialCharactersFormat = /[ `^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\n  const [authenticating, setAuthenticating] = useState(false);\n  useEffect(() => {\n    setIsValidForm(isValidEmail && isValidPassordConfirm && isValidPassword && isValidPasswordLength && isValidUserName && isValidUsernameLength && agreeTerms);\n  }, [isValidEmail, isValidPassordConfirm, isValidPassword, isValidPasswordLength, isValidUserName, isValidUsernameLength, agreeTerms]);\n\n  const agreeTermsHandler = () => {\n    setAgreeTerms(!agreeTerms);\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    if (!isValidForm) return;\n    setSendingForm(true);\n    setTimeout(() => {\n      setAuthenticating(true);\n    }, 2000);\n  };\n\n  const emailChangeHandler = () => {\n    const email = emailRef.current.value;\n    const emailInput = String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n    if (emailInput) {\n      setIsValidEmail(true);\n      setEmail(emailInput.input);\n    } else {\n      setIsValidEmail(false);\n    }\n  };\n\n  const passwordChangeHandler = () => {\n    const password = passwordRef.current.value;\n    setIsValidPasswordLength(password.length > 5);\n    if (!isValidPasswordLength) return;\n    setIsValidPassword(!specialCharactersFormat.test(password));\n    if (isValidPassword) setPassword(password);\n  };\n\n  const usernameChangeHandler = () => {\n    const username = usernameRef.current.value;\n    setIsValidUsernameLength(username.length > 5);\n    if (!isValidUsernameLength) return;\n    setIsValidUserName(!specialCharactersFormat.test(username));\n    if (isValidUserName) setUserName(username);\n  };\n\n  const confirmPasswordHandler = () => {\n    const confirm = rePasswordRef.current.value;\n    setIsValidPasswordConfirm(confirm === password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-container\",\n    children: [!authenticating && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signup-left-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/sign-up.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up-right-brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"elec\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"store\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitHandler,\n          className: \"signup-right-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-right-form-row\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Fill up your information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-right-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-right-form-row-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: emailRef,\n                onChange: emailChangeHandler,\n                autoComplete: \"off\",\n                className: \"signup-right-form-input\",\n                type: \"text\",\n                name: \"mail\",\n                id: \"mail\",\n                placeholder: \"Email address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), isValidEmail === false && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"email is not valid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-right-form-row-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: passwordRef,\n                onChange: passwordChangeHandler,\n                autoComplete: \"off\",\n                className: \"signup-right-form-input\",\n                type: \"password\",\n                name: \"password\",\n                id: \"password\",\n                placeholder: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), isValidPasswordLength === false && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"password length should greater than 5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 53\n              }, this), isValidPassword === false && isValidPasswordLength && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"password can not contain special characters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 73\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-right-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-right-form-row-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: usernameRef,\n                onChange: usernameChangeHandler,\n                autoComplete: \"off\",\n                className: \"signup-right-form-input\",\n                type: \"text\",\n                name: \"username\",\n                id: \"username\",\n                placeholder: \"User name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), isValidUsernameLength === false && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"username length should greater than 5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 53\n              }, this), isValidUsernameLength && !isValidUserName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"username can not contain special characters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 64\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-right-form-row-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: rePasswordRef,\n                onChange: confirmPasswordHandler,\n                autoComplete: \"off\",\n                className: \"signup-right-form-input\",\n                type: \"password\",\n                name: \"passconfirm\",\n                id: \"passconfirm\",\n                placeholder: \"Confirm password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), isValidPassordConfirm === false && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"signup-right-alert\",\n                children: \"password does not match\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-right-form-row signup-right-form-row-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: agreeTermsHandler,\n              className: \"signup-right-form-check\",\n              children: agreeTerms && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"signup-right-form-checked\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-right-form-term\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: agreeTermsHandler,\n                children: \"I agree with \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n                className: \"signup-right-form-link\",\n                to: \"/terms\",\n                children: \"terms and conditions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 66\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-right-form-row\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: `signup-right-form-row-btn ${!isValidForm && 'disabled'}`,\n              children: sendingForm ? /*#__PURE__*/_jsxDEV(Spinner, {\n                width: \"20px\",\n                height: \"20px\",\n                color: \"white\",\n                size: \"2px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 108\n              }, this) : 'Sign Up'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), authenticating && /*#__PURE__*/_jsxDEV(SingUpOTP, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"NnLNjusrM7WSkfDAtiBu1I+dn3E=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["D:/react/ElecShop/UI/src/components/pages/SignUp/SignUp.jsx"],"names":["React","useState","useRef","useEffect","Link","Button","Spinner","SingUpOTP","SignUp","agreeTerms","setAgreeTerms","sendingForm","setSendingForm","isValidForm","setIsValidForm","emailRef","usernameRef","passwordRef","rePasswordRef","isValidEmail","setIsValidEmail","isValidUserName","setIsValidUserName","isValidPassword","setIsValidPassword","email","setEmail","username","setUserName","password","setPassword","isValidPasswordLength","setIsValidPasswordLength","isValidUsernameLength","setIsValidUsernameLength","isValidPassordConfirm","setIsValidPasswordConfirm","specialCharactersFormat","authenticating","setAuthenticating","agreeTermsHandler","submitHandler","e","preventDefault","setTimeout","emailChangeHandler","current","value","emailInput","String","toLowerCase","match","input","passwordChangeHandler","length","test","usernameChangeHandler","confirmPasswordHandler","confirm"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './SignUp.css'\r\nimport Button from '../../UI/Button/Button'\r\nimport Spinner from '../../UI/Loading/Spinner/Spinner'\r\nimport SingUpOTP from './SingUpOTP'\r\nconst SignUp = () => {\r\n  //State for agree accept:\r\n  const [agreeTerms, setAgreeTerms] = useState(false);\r\n  //Sending state:\r\n  const [sendingForm, setSendingForm] = useState(false);\r\n  //State for whole valid form:\r\n  const [isValidForm, setIsValidForm] = useState(false);\r\n  //Ref for store user input\r\n  const emailRef = useRef('');\r\n  const usernameRef = useRef('');\r\n  const passwordRef = useRef('');\r\n  const rePasswordRef = useRef('');\r\n  //check valid for each input field\r\n  const [isValidEmail, setIsValidEmail] = useState(null);\r\n  const [isValidUserName, setIsValidUserName] = useState(null);\r\n  const [isValidPassword, setIsValidPassword] = useState(null);\r\n  const [email, setEmail] = useState('');\r\n  const [username, setUserName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isValidPasswordLength, setIsValidPasswordLength] = useState(null);\r\n  const [isValidUsernameLength, setIsValidUsernameLength] = useState(null);\r\n  const [isValidPassordConfirm, setIsValidPasswordConfirm] = useState(null);\r\n  const specialCharactersFormat = /[ `^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\r\n  const [authenticating, setAuthenticating] = useState(false);\r\n  useEffect(() => {\r\n    setIsValidForm(isValidEmail && isValidPassordConfirm && isValidPassword && isValidPasswordLength && isValidUserName && isValidUsernameLength && agreeTerms);\r\n  }, [isValidEmail, isValidPassordConfirm, isValidPassword, isValidPasswordLength, isValidUserName, isValidUsernameLength, agreeTerms])\r\n  const agreeTermsHandler = () => {\r\n    setAgreeTerms(!agreeTerms);\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if(!isValidForm) return;\r\n    setSendingForm(true);\r\n    setTimeout(() => {\r\n      setAuthenticating(true)\r\n    }, 2000)\r\n  }\r\n  const emailChangeHandler = () => {\r\n    const email = emailRef.current.value;\r\n    const emailInput = String(email).toLowerCase().match(\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    );\r\n    if(emailInput){\r\n      setIsValidEmail(true);\r\n      setEmail(emailInput.input);\r\n    }else{\r\n      setIsValidEmail(false);\r\n    }\r\n  }\r\n  const passwordChangeHandler = () => {\r\n    const password = passwordRef.current.value;\r\n    setIsValidPasswordLength(password.length > 5);\r\n    if(!isValidPasswordLength) return;\r\n    setIsValidPassword(!specialCharactersFormat.test(password));\r\n    if(isValidPassword) setPassword(password);\r\n  }\r\n  const usernameChangeHandler = () => {\r\n    const username = usernameRef.current.value;\r\n    setIsValidUsernameLength(username.length > 5);\r\n    if(!isValidUsernameLength) return;\r\n    setIsValidUserName(!specialCharactersFormat.test(username));\r\n    if(isValidUserName) setUserName(username);\r\n  }\r\n  const confirmPasswordHandler = () => {\r\n    const confirm = rePasswordRef.current.value;\r\n    setIsValidPasswordConfirm(confirm === password);\r\n  }\r\n  return (\r\n    <div className=\"signup-container\">\r\n      {!authenticating &&\r\n      <div className='signup'>\r\n        <div className=\"signup-left\">\r\n          <div className=\"signup-left-img\">\r\n            <img src=\"/images/sign-up.jpg\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"signup-right\">\r\n          <div className=\"sign-up-right-brand\">\r\n            <h4>elec</h4>\r\n            <h4>store</h4>\r\n          </div>\r\n          <form onSubmit={submitHandler} className=\"signup-right-form\">\r\n            <div className=\"signup-right-form-row\">\r\n              <h3>Fill up your information</h3>\r\n            </div>\r\n            <div className=\"signup-right-form-row\">\r\n              <div className=\"signup-right-form-row-left\">\r\n                <input ref={emailRef} onChange={emailChangeHandler} autoComplete='off' className='signup-right-form-input' type=\"text\" name=\"mail\" id=\"mail\" placeholder='Email address' />\r\n                {isValidEmail === false && <span className=\"signup-right-alert\">email is not valid</span>}\r\n              </div>\r\n              <div className=\"signup-right-form-row-right\">\r\n                <input ref={passwordRef} onChange={passwordChangeHandler} autoComplete='off' className='signup-right-form-input' type=\"password\" name=\"password\" id=\"password\" placeholder='Password' />\r\n                {isValidPasswordLength === false && <span className=\"signup-right-alert\">password length should greater than 5</span>}\r\n                {isValidPassword === false &&  isValidPasswordLength && <span className=\"signup-right-alert\">password can not contain special characters</span>}\r\n              </div>\r\n            </div>\r\n            <div className=\"signup-right-form-row\">\r\n              <div className=\"signup-right-form-row-left\">\r\n                <input ref={usernameRef} onChange={usernameChangeHandler} autoComplete='off' className='signup-right-form-input' type=\"text\" name=\"username\" id=\"username\" placeholder='User name' />\r\n                {isValidUsernameLength === false && <span className=\"signup-right-alert\">username length should greater than 5</span>}\r\n                {isValidUsernameLength &&  !isValidUserName && <span className=\"signup-right-alert\">username can not contain special characters</span>}\r\n              </div>\r\n              <div className=\"signup-right-form-row-right\">\r\n                <input ref={rePasswordRef} onChange={confirmPasswordHandler} autoComplete='off' className='signup-right-form-input' type=\"password\" name=\"passconfirm\" id=\"passconfirm\" placeholder='Confirm password' />\r\n                {isValidPassordConfirm === false && <span className=\"signup-right-alert\">password does not match</span>}\r\n              </div>\r\n            </div>\r\n            <div className=\"signup-right-form-row signup-right-form-row-check\">\r\n              <div onClick={agreeTermsHandler} className='signup-right-form-check'>\r\n                {agreeTerms && <div className=\"signup-right-form-checked\"></div>}\r\n              </div>\r\n              <div className=\"signup-right-form-term\">\r\n                <p onClick={agreeTermsHandler}>I agree with </p> <Link className='signup-right-form-link' to='/terms'>terms and conditions</Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"signup-right-form-row\">\r\n              <Button className={`signup-right-form-row-btn ${!isValidForm && 'disabled'}`}>{sendingForm ? <Spinner width='20px' height='20px' color='white' size='2px'/> : 'Sign Up'}</Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>}\r\n      {authenticating && <SingUpOTP/>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp"]},"metadata":{},"sourceType":"module"}